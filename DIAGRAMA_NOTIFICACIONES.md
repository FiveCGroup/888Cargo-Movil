```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  FLUJO DE NOTIFICACIONES - REGISTRO DE USUARIO               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


                           ğŸ“± USUARIO EN APP MÃ“VIL
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  1. Completa formulario de  â”‚
                    â”‚     registro                â”‚
                    â”‚  - Email                    â”‚
                    â”‚  - ContraseÃ±a               â”‚
                    â”‚  - Nombre                   â”‚
                    â”‚  - TelÃ©fono                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         2. EnvÃ­a datos a /api/auth/register           â”‚
        â”‚  POST {email, password, name, phone, country}        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼ (Backend)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  3. Validar datos (email, password, campos requeridos)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  4. Verificar si usuario ya existe                    â”‚
        â”‚     SELECT * FROM users WHERE email = ?               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ NO                    â”‚ SÃ
                        â–¼                       â–¼
                  Continuar            âŒ Error 400
                        â”‚              "Usuario existe"
                        â–¼                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  5. Crear usuario en BD                               â”‚
        â”‚     INSERT INTO users (...)                           â”‚
        â”‚     ContraseÃ±a se encripta con bcrypt                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  6. Generar JWT token                                 â”‚
        â”‚     const token = createAccessToken({id})             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  7. Guardar token en cookie                           â”‚
        â”‚     res.cookie('token', token, {options})             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                               â”‚
                    â”‚ ğŸ”¥ ENVÃOS ASINCRONOS ğŸ”¥       â”‚
                    â”‚ (no esperan/no bloquean)       â”‚
                    â”‚                               â”‚
                    â–¼                               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  8. ENVIAR EMAIL      â”‚      â”‚  9. ENVIAR WHATSAPP  â”‚
        â”‚     de BIENVENIDA     â”‚      â”‚     de BIENVENIDA    â”‚
        â”‚                       â”‚      â”‚                      â”‚
        â”‚  âœ‰ï¸ Nodemailer        â”‚      â”‚  ğŸ’¬ Twilio          â”‚
        â”‚  â†’ SMTP Gmail         â”‚      â”‚  â†’ API WhatsApp      â”‚
        â”‚  â†’ Template HTML      â”‚      â”‚  â†’ Mensaje texto     â”‚
        â”‚                       â”‚      â”‚                      â”‚
        â”‚  To: user@email.com   â”‚      â”‚  To: +56912345678    â”‚
        â”‚                       â”‚      â”‚                      â”‚
        â”‚  Asunto:              â”‚      â”‚  Mensaje:            â”‚
        â”‚  "Â¡Bienvenido a       â”‚      â”‚  "Â¡Hola Juan!        â”‚
        â”‚   888Cargo! ğŸ‰"       â”‚      â”‚   Â¡Bienvenido a      â”‚
        â”‚                       â”‚      â”‚   888Cargo! ğŸšš"      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                               â”‚
                    â–¼                               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  10. ENVIAR EMAIL     â”‚      â”‚  11. ENVIAR WHATSAPP â”‚
        â”‚      CONFIRMACIÃ“N     â”‚      â”‚      CONFIRMACIÃ“N    â”‚
        â”‚                       â”‚      â”‚                      â”‚
        â”‚  âœ‰ï¸ Nodemailer        â”‚      â”‚  ğŸ’¬ Twilio          â”‚
        â”‚  â†’ SMTP Gmail         â”‚      â”‚  â†’ API WhatsApp      â”‚
        â”‚  â†’ Template HTML      â”‚      â”‚  â†’ Mensaje texto     â”‚
        â”‚                       â”‚      â”‚                      â”‚
        â”‚  To: user@email.com   â”‚      â”‚  To: +56912345678    â”‚
        â”‚                       â”‚      â”‚                      â”‚
        â”‚  Asunto:              â”‚      â”‚  Mensaje:            â”‚
        â”‚  "ConfirmaciÃ³n de     â”‚      â”‚  "âœ… Registro        â”‚
        â”‚   Registro"           â”‚      â”‚   Confirmado          â”‚
        â”‚                       â”‚      â”‚   Usuario:juan_perez" â”‚
        â”‚  Incluye:             â”‚      â”‚                      â”‚
        â”‚  - Email              â”‚      â”‚  Incluye:            â”‚
        â”‚  - Usuario            â”‚      â”‚  - Usuario           â”‚
        â”‚  - Link login         â”‚      â”‚  - InvitaciÃ³n acceso â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                                               â”‚
            â”‚   (Todo esto ocurre en PARALELO y SIN BLOQUEAR)
            â”‚   El usuario recibe respuesta en 200-500ms
            â”‚   Los emails/WhatsApp se envÃ­an en background
            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  12. RESPUESTA EXITOSA AL CLIENTE                     â”‚
        â”‚                                                       â”‚
        â”‚  {                                                    â”‚
        â”‚    "id": 42,                                          â”‚
        â”‚    "name": "Juan PÃ©rez",                              â”‚
        â”‚    "email": "juan@example.com",                       â”‚
        â”‚    "message": "Usuario registrado. Revisa tu email    â”‚
        â”‚               y WhatsApp para confirmar"              â”‚
        â”‚  }                                                    â”‚
        â”‚                                                       â”‚
        â”‚  Status: 201 Created âœ…                               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  13. FRONTEND RECIBE RESPUESTA                        â”‚
        â”‚      - Genera JWT localmente                          â”‚
        â”‚      - Guarda en AsyncStorage/Context                 â”‚
        â”‚      - Redirige a Dashboard                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                           ğŸ‰ USUARIO EN DASHBOARD

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        EN PARALELO (en segundo plano):

              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Email #1 de Bienvenida                 â”‚
              â”‚  [5-10 segundos despuÃ©s]                â”‚
              â”‚                                         â”‚
              â”‚  From: noreply@888cargo.com             â”‚
              â”‚  To: juan@example.com                   â”‚
              â”‚  Subject: Â¡Bienvenido a 888Cargo! ğŸ‰   â”‚
              â”‚                                         â”‚
              â”‚  Template HTML profesional con:         â”‚
              â”‚  - Logo de 888Cargo                     â”‚
              â”‚  - Mensaje personalizado                â”‚
              â”‚  - CaracterÃ­sticas disponibles          â”‚
              â”‚  - Link a plataforma                    â”‚
              â”‚  - Footer con legal                     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Email #2 de ConfirmaciÃ³n               â”‚
              â”‚  [5-10 segundos despuÃ©s]                â”‚
              â”‚                                         â”‚
              â”‚  From: noreply@888cargo.com             â”‚
              â”‚  To: juan@example.com                   â”‚
              â”‚  Subject: ConfirmaciÃ³n de Registro      â”‚
              â”‚                                         â”‚
              â”‚  Incluye:                               â”‚
              â”‚  - Email: juan@example.com              â”‚
              â”‚  - Usuario: juan_perez                  â”‚
              â”‚  - Instrucciones login                  â”‚
              â”‚  - Advertencia seguridad                â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  WhatsApp #1 de Bienvenida              â”‚
              â”‚  [5-10 segundos despuÃ©s]                â”‚
              â”‚                                         â”‚
              â”‚  From: 888Cargo                         â”‚
              â”‚  To: +56912345678                       â”‚
              â”‚                                         â”‚
              â”‚  "Â¡Hola Juan! ğŸ‘‹                        â”‚
              â”‚                                         â”‚
              â”‚   Â¡Bienvenido a 888Cargo! ğŸšš            â”‚
              â”‚                                         â”‚
              â”‚   Tu cuenta ha sido creada              â”‚
              â”‚   exitosamente. Ya puedes              â”‚
              â”‚   acceder a nuestra plataforma         â”‚
              â”‚   para gestionar tus cargas.           â”‚
              â”‚                                         â”‚
              â”‚   Â¿Necesitas ayuda? Responde            â”‚
              â”‚   este mensaje"                         â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  WhatsApp #2 de ConfirmaciÃ³n            â”‚
              â”‚  [5-10 segundos despuÃ©s]                â”‚
              â”‚                                         â”‚
              â”‚  From: 888Cargo                         â”‚
              â”‚  To: +56912345678                       â”‚
              â”‚                                         â”‚
              â”‚  "âœ… Registro Confirmado                 â”‚
              â”‚                                         â”‚
              â”‚   Hola Juan,                            â”‚
              â”‚                                         â”‚
              â”‚   Tu cuenta ha sido creada              â”‚
              â”‚   exitosamente.                        â”‚
              â”‚                                         â”‚
              â”‚   Datos de acceso:                      â”‚
              â”‚   â€¢ Usuario: juan_perez                â”‚
              â”‚   â€¢ Email: Revisa tu correo             â”‚
              â”‚                                         â”‚
              â”‚   Ya puedes acceder a la plataforma.   â”‚
              â”‚   Â¡Que disfrutes! ğŸ‰"                   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                            MANEJO DE ERRORES

    Si Email FALLA:                    Si WhatsApp FALLA:
    â”œâ”€ Log: "âŒ Error sending"          â”œâ”€ Log: "âŒ Error sending"
    â”œâ”€ No detiene registro             â”œâ”€ No detiene registro
    â”œâ”€ Usuario sigue autenticado       â”œâ”€ Usuario sigue autenticado
    â””â”€ Se puede reintentar despuÃ©s     â””â”€ Se puede reintentar despuÃ©s

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        DIAGRAMA DE DEPENDENCIAS

    Backend
    â”œâ”€â”€ auth.controller.simple.js (Principal)
    â”‚   â”œâ”€â”€ emailService.js
    â”‚   â”‚   â””â”€â”€ nodemailer
    â”‚   â”‚       â”œâ”€â”€ Gmail SMTP
    â”‚   â”‚       â”œâ”€â”€ Outlook SMTP
    â”‚   â”‚       â””â”€â”€ SMTP Custom
    â”‚   â”‚
    â”‚   â””â”€â”€ whatsappService.js
    â”‚       â””â”€â”€ Twilio API
    â”‚           â””â”€â”€ WhatsApp Business API
    â”‚
    â””â”€â”€ .env (ConfiguraciÃ³n)
        â”œâ”€â”€ EMAIL_USER
        â”œâ”€â”€ EMAIL_PASSWORD
        â”œâ”€â”€ TWILIO_ACCOUNT_SID
        â””â”€â”€ TWILIO_AUTH_TOKEN

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                          TIEMPOS DE EJECUCIÃ“N

    1. ValidaciÃ³n de datos:           ~10ms
    2. Crear usuario en BD:            ~50ms
    3. Generar JWT:                    ~20ms
    4. Guardar cookie:                 ~5ms
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚  TOTAL TIEMPO BLOQUEANTE:        ~85ms
    â”‚  (Usuario recibe respuesta rÃ¡pido)
    â”‚
    7. Email #1:                      200-2000ms (En paralelo)
    8. Email #2:                      200-2000ms (En paralelo)
    9. WhatsApp #1:                   200-2000ms (En paralelo)
   10. WhatsApp #2:                   200-2000ms (En paralelo)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       TOTAL (no bloqueante):         ~2000ms mÃ¡ximo

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                             SEGURIDAD

    âœ… ContraseÃ±as en .env (no en cÃ³digo)
    âœ… .env en .gitignore
    âœ… Credenciales de Twilio encriptadas
    âœ… Errores no exponen datos sensibles
    âœ… Rate limiting en /api/auth/register
    âœ… Emails con templates seguros (sin JS ejecutable)
    âœ… TelÃ©fono validado y formateado
    âœ… Logs sin datos sensibles

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“Š Matriz de CaracterÃ­sticas

| CaracterÃ­stica | Email | WhatsApp | Bloqueante | Reintento |
|---|---|---|---|---|
| Bienvenida | âœ… | âœ… | âŒ | âœ… |
| ConfirmaciÃ³n | âœ… | âœ… | âŒ | âœ… |
| Personalizado | âœ… | âœ… | âŒ | âœ… |
| Error handling | âœ… | âœ… | âŒ | Manual |
| Logs | âœ… | âœ… | âŒ | âœ… |

---

## ğŸ”„ Flujo Simplificado

```
Usuario se registra
         â”‚
         â–¼
Validar datos
         â”‚
         â–¼
Crear usuario
         â”‚
         â–¼
Generar token
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ (Todo hasta aquÃ­ = 100ms)           â”‚
         â”‚                                     â”‚
         â–¼ (RESPUESTA INMEDIATA AL USUARIO)   â”‚
Usuario logueado en Dashboard                â”‚
                                              â”‚
                                    (En paralelo ğŸ”¥)
                                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                            â”‚
                    â–¼                                            â–¼
            Enviar Email (500ms)                        Enviar WhatsApp (500ms)
                    â”‚                                            â”‚
                    â–¼                                            â–¼
            Email en Inbox                            WhatsApp recibido
```

---

## ğŸ“± Ejemplo Real

```
USUARIO:
Hace click en "Registrarse"

SISTEMA:
âœ… Recibe datos (email@example.com, password123, Juan, +56912345678)
âœ… Valida email no existe
âœ… Crea usuario en BD
âœ… Genera JWT
âœ… RESPONDE AL USUARIO en 100ms
âœ… Usuario ve Dashboard

EN PARALELO (no lo ve el usuario):
âœ‰ï¸ EnvÃ­a email de bienvenida (200ms)
âœ‰ï¸ EnvÃ­a email de confirmaciÃ³n (200ms)
ğŸ’¬ EnvÃ­a WhatsApp de bienvenida (300ms)
ğŸ’¬ EnvÃ­a WhatsApp de confirmaciÃ³n (300ms)

USUARIO:
Recibe 2 emails en bandeja
Recibe 2 mensajes en WhatsApp
Todo en ~1 segundo total
```

---

Â¡AsÃ­ funciona el sistema! ğŸš€
